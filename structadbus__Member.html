<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>adbus: adbus_Member Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>adbus_Member Struct Reference</h1><!-- doxytag: class="adbus_Member" -->
<p>Handle to an idividual member in an <a class="el" href="structadbus__Interface.html" title="Wrapper around a dbus interface that can be bound to multiple paths on multiple connections...">adbus_Interface</a>.  
<a href="#_details">More...</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Related Functions</h2></td></tr>
<tr><td colspan="2"><p>(Note that these are not member functions.) </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Member.html#ae983fdbd127fa523e70d8511e9382b0d">adbus_mbr_argsig</a> (<a class="el" href="structadbus__Member.html">adbus_Member</a> *m, const char *sig, int size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Appends to the argument signature.  <a href="#ae983fdbd127fa523e70d8511e9382b0d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Member.html#a0b61b17353c1a2b468d7f5adbe8bdb49">adbus_mbr_argname</a> (<a class="el" href="structadbus__Member.html">adbus_Member</a> *m, const char *name, int size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the next argument name.  <a href="#a0b61b17353c1a2b468d7f5adbe8bdb49"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Member.html#a1ef17315c62c92e43f489633285b7067">adbus_mbr_retsig</a> (<a class="el" href="structadbus__Member.html">adbus_Member</a> *m, const char *sig, int size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Appends to the return argument signature.  <a href="#a1ef17315c62c92e43f489633285b7067"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Member.html#a835eb9076d4377d335a3b03f68a57743">adbus_mbr_retname</a> (<a class="el" href="structadbus__Member.html">adbus_Member</a> *m, const char *name, int size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the next return argument name.  <a href="#a835eb9076d4377d335a3b03f68a57743"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a38d42fac1d0a95e48438a087d69ddfd4"></a><!-- doxytag: member="adbus_Member::adbus_mbr_annotate" ref="a38d42fac1d0a95e48438a087d69ddfd4" args="(adbus_Member *m, const char *name, int nameSize, const char *value, int valueSize)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Member.html#a38d42fac1d0a95e48438a087d69ddfd4">adbus_mbr_annotate</a> (<a class="el" href="structadbus__Member.html">adbus_Member</a> *m, const char *name, int nameSize, const char *value, int valueSize)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds an annotation to the member. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Member.html#ab5f3fc9aca7189086e190ffd8a1b13c0">adbus_mbr_addrelease</a> (<a class="el" href="structadbus__Member.html">adbus_Member</a> *m, adbus_Callback release, void *ruser)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a callback and user data to be called when the interface is freed.  <a href="#ab5f3fc9aca7189086e190ffd8a1b13c0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Member.html#a415d168c4cfe8d22dc3ca9298ae8cb58">adbus_mbr_setmethod</a> (<a class="el" href="structadbus__Member.html">adbus_Member</a> *m, adbus_MsgCallback callback, void *user1)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the method callback.  <a href="#a415d168c4cfe8d22dc3ca9298ae8cb58"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Member.html#ae985084911b1b5e9f8ac5b3aafe710a1">adbus_mbr_setgetter</a> (<a class="el" href="structadbus__Member.html">adbus_Member</a> *m, adbus_MsgCallback callback, void *user1)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the get callback for properties.  <a href="#ae985084911b1b5e9f8ac5b3aafe710a1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Member.html#a304c9863bc234d089428dc7ae7b1d12f">adbus_mbr_setsetter</a> (<a class="el" href="structadbus__Member.html">adbus_Member</a> *m, adbus_MsgCallback callback, void *user1)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the set callback for properties.  <a href="#a304c9863bc234d089428dc7ae7b1d12f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Member.html#abb7709b4c4cf6ed189bf9c82a0e9f58f">adbus_mbr_call</a> (<a class="el" href="structadbus__Member.html">adbus_Member</a> *mbr, adbus_ConnBind *bind, <a class="el" href="structadbus__CbData.html">adbus_CbData</a> *d)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calls a method member directly.  <a href="#abb7709b4c4cf6ed189bf9c82a0e9f58f"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Handle to an idividual member in an <a class="el" href="structadbus__Interface.html" title="Wrapper around a dbus interface that can be bound to multiple paths on multiple connections...">adbus_Interface</a>. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>If writing C code, it's easiest to pull out arguments in callbacks via the adbus_check_* functions (eg adbus_check_boolean()).</dd></dl>
<h2><a class="anchor" id="methods">
Methods</a></h2>
<p>Methods are added to the interface using adbus_iface_addmethod(). The caller can then set:</p>
<ul>
<li>Arguments via <a class="el" href="structadbus__Member.html#ae983fdbd127fa523e70d8511e9382b0d" title="Appends to the argument signature.">adbus_mbr_argsig()</a> and <a class="el" href="structadbus__Member.html#a0b61b17353c1a2b468d7f5adbe8bdb49" title="Sets the next argument name.">adbus_mbr_argname()</a>.</li>
<li>Return arguments via <a class="el" href="structadbus__Member.html#a1ef17315c62c92e43f489633285b7067" title="Appends to the return argument signature.">adbus_mbr_retsig()</a> and <a class="el" href="structadbus__Member.html#a835eb9076d4377d335a3b03f68a57743" title="Sets the next return argument name.">adbus_mbr_retname()</a>.</li>
<li>Annotations via <a class="el" href="structadbus__Member.html#a38d42fac1d0a95e48438a087d69ddfd4" title="Adds an annotation to the member.">adbus_mbr_annotate()</a>.</li>
<li>Method callback via <a class="el" href="structadbus__Member.html#a415d168c4cfe8d22dc3ca9298ae8cb58" title="Sets the method callback.">adbus_mbr_setmethod()</a>.</li>
</ul>
<p>The caller must set a method callback.</p>
<p>When setting the method callback, you can also set a user data value which comes through to the callback as the <a class="el" href="structadbus__CbData.html#add762ce3f14ba8978cbcd17d74d6232f" title="First user data variable.">adbus_CbData::user1</a> field. This way the same function can be reused for multiple methods.</p>
<p>User data can also be tied to the method so that it can be freed when the interface is eventually freed using <a class="el" href="structadbus__Member.html#ab5f3fc9aca7189086e190ffd8a1b13c0" title="Adds a callback and user data to be called when the interface is freed.">adbus_mbr_addrelease()</a>.</p>
<p>For example: </p>
<div class="fragment"><pre class="fragment">  <span class="keyword">struct </span>MultiplyData
  {
      <span class="keywordtype">int</span> Multiplier;
  };

  <span class="keyword">static</span> <span class="keywordtype">int</span> Multiply(<a class="code" href="structadbus__CbData.html" title="Data structure used for message callbacks.">adbus_CbData</a>* d)
  {
      int32_t num = adbus_check_i32(d);
      adbus_check_end(d);

      MultiplyData* mul = (MultiplyData*) d-&gt;<a class="code" href="structadbus__CbData.html#add762ce3f14ba8978cbcd17d74d6232f" title="First user data variable.">user1</a>;

      if (d-&gt;<a class="code" href="structadbus__CbData.html#a2e03cbc6e63c07377e7b01c0ab4f961a" title="A message factory used for setting up returned messages.">ret</a>)
          <a class="code" href="adbus_8h.html#a375ef5bce65fe812ff670678c481d3f5" title="Appends a int32_t to the argument data (see adbus_buf_i32()).">adbus_msg_i32</a>(d-&gt;<a class="code" href="structadbus__CbData.html#a2e03cbc6e63c07377e7b01c0ab4f961a" title="A message factory used for setting up returned messages.">ret</a>, num * mul-&gt;Multiplier);

      <span class="keywordflow">return</span> 0;
  }

  MultiplyData* multiply1 = (MultiplyData*) calloc(<span class="keyword">sizeof</span>(MultiplyData), 1);
  MultiplyData* multiply2 = (MultiplyData*) calloc(<span class="keyword">sizeof</span>(MultiplyData), 1);
  multiply1-&gt;Multiplier = 1;
  multiply2-&gt;Multiplier = 2;

  m = adbus_iface_addmethod(i, <span class="stringliteral">&quot;Multiply1&quot;</span>, -1);
  <a class="code" href="structadbus__Member.html#a415d168c4cfe8d22dc3ca9298ae8cb58" title="Sets the method callback.">adbus_mbr_setmethod</a>(m, &amp;Multiply, multiply1);
  <a class="code" href="structadbus__Member.html#ab5f3fc9aca7189086e190ffd8a1b13c0" title="Adds a callback and user data to be called when the interface is freed.">adbus_mbr_addrelease</a>(m, &amp;free, multiply1);
  <a class="code" href="structadbus__Member.html#ae983fdbd127fa523e70d8511e9382b0d" title="Appends to the argument signature.">adbus_mbr_argsig</a>(m, <span class="stringliteral">&quot;i&quot;</span>, -1);
  <a class="code" href="structadbus__Member.html#a1ef17315c62c92e43f489633285b7067" title="Appends to the return argument signature.">adbus_mbr_retsig</a>(m, <span class="stringliteral">&quot;i&quot;</span>, -1);

  m = adbus_iface_addmethod(i, <span class="stringliteral">&quot;Multiply2&quot;</span>, -1);
  <a class="code" href="structadbus__Member.html#a415d168c4cfe8d22dc3ca9298ae8cb58" title="Sets the method callback.">adbus_mbr_setmethod</a>(m, &amp;Multiply, multiply2);
  <a class="code" href="structadbus__Member.html#ab5f3fc9aca7189086e190ffd8a1b13c0" title="Adds a callback and user data to be called when the interface is freed.">adbus_mbr_addrelease</a>(m, &amp;free, multiply2);
  <a class="code" href="structadbus__Member.html#ae983fdbd127fa523e70d8511e9382b0d" title="Appends to the argument signature.">adbus_mbr_argsig</a>(m, <span class="stringliteral">&quot;i&quot;</span>, -1);
  <a class="code" href="structadbus__Member.html#a1ef17315c62c92e43f489633285b7067" title="Appends to the return argument signature.">adbus_mbr_retsig</a>(m, <span class="stringliteral">&quot;i&quot;</span>, -1);
</pre></div><p>The method callback can use the user2 field supplied in the bind (see <a class="el" href="structadbus__Bind.html" title="Data structure used to bind interfaces to a particular path.">adbus_Bind</a>) to distinguish between the method being called on multiple objects.</p>
<p>For example: </p>
<div class="fragment"><pre class="fragment">  <span class="keyword">class </span>Multiplier
  {
  <span class="keyword">public</span>:
      Multiplier(<span class="keywordtype">int</span> num) : m_Num(num) {}
  <span class="keyword">private</span>:
      <span class="keyword">static</span> <span class="keywordtype">int</span> Multiply(<a class="code" href="structadbus__CbData.html" title="Data structure used for message callbacks.">adbus_CbData</a>* d);
      <span class="keyword">static</span> <span class="keywordtype">void</span> Free(<span class="keywordtype">void</span>* d) {<span class="keyword">delete</span> (Multiplier*) d;}
      <span class="keywordtype">int</span> m_Num;
  };

  <span class="keywordtype">int</span> Multiplier::Multiply(<a class="code" href="structadbus__CbData.html" title="Data structure used for message callbacks.">adbus_CbData</a>* d)
  {
      <span class="keywordtype">int</span> num = <a class="code" href="structadbus__CbData.html#a5c926b8c7c3239d758368e5bf5f2d6c0" title="Pull out a int32.">adbus_check_i32</a>(d);
      <a class="code" href="structadbus__CbData.html#a29065a425be1806fca3f60e4ad62d07d" title="Check that all arguments have been consumed.">adbus_check_end</a>(d);

      Multiplier* s = (Multiplier*) d-&gt;<a class="code" href="structadbus__CbData.html#abe9e957c2ccf86b74370ba3a9fe6d1bc" title="Second user data variable.">user2</a>;
      if (d-&gt;<a class="code" href="structadbus__CbData.html#a2e03cbc6e63c07377e7b01c0ab4f961a" title="A message factory used for setting up returned messages.">ret</a>)
          <a class="code" href="structadbus__CbData.html#a5c926b8c7c3239d758368e5bf5f2d6c0" title="Pull out a int32.">adbus_check_i32</a>(d-&gt;<a class="code" href="structadbus__CbData.html#a2e03cbc6e63c07377e7b01c0ab4f961a" title="A message factory used for setting up returned messages.">ret</a>, s-&gt;m_Num * num);

      <span class="keywordflow">return</span> 0;
  }
  
  <a class="code" href="structadbus__Interface.html" title="Wrapper around a dbus interface that can be bound to multiple paths on multiple connections...">adbus_Interface</a>* iface;
  <a class="code" href="structadbus__Member.html" title="Handle to an idividual member in an adbus_Interface.">adbus_Member</a>* mbr;

  iface = <a class="code" href="structadbus__Interface.html#a35dee02acd17e1fbcb11723565fbdbcc" title="Creates a new interface.">adbus_iface_new</a>(<span class="stringliteral">&quot;org.freedesktop.SampleInterface&quot;</span>, -1);
  mbr = <a class="code" href="structadbus__Interface.html#a97c5169419342f2b02f70caff67ad369" title="Adds a new method.">adbus_iface_addmethod</a>(iface, <span class="stringliteral">&quot;Multiply&quot;</span>, -1);
  <a class="code" href="structadbus__Member.html#a415d168c4cfe8d22dc3ca9298ae8cb58" title="Sets the method callback.">adbus_mbr_setmethod</a>(mbr, &amp;Multiplier::Multiply, NULL);
  <a class="code" href="structadbus__Member.html#ae983fdbd127fa523e70d8511e9382b0d" title="Appends to the argument signature.">adbus_mbr_argsig</a>(mbr, <span class="stringliteral">&quot;i&quot;</span>, -1);
  <a class="code" href="structadbus__Member.html#a1ef17315c62c92e43f489633285b7067" title="Appends to the return argument signature.">adbus_mbr_retsig</a>(mbr, <span class="stringliteral">&quot;i&quot;</span>, -1);

  Multiplier* mul3 = <span class="keyword">new</span> Multiplier(3);

  <a class="code" href="structadbus__Bind.html" title="Data structure used to bind interfaces to a particular path.">adbus_Bind</a> bind;
  <a class="code" href="structadbus__Bind.html#afddc15ef94055f7c0a30a2eee1009060" title="Initialises an adbus_Bind structure.">adbus_bind_init</a>(&amp;bind);
  bind.<a class="code" href="structadbus__Bind.html#a3b5c2c088d10ae28cf73ac28d3057425" title="Interface to bind.">interface</a>  = iface;
  bind.<a class="code" href="structadbus__Bind.html#adf23b4f4f38f9148a0d90d225f3a7d3f" title="Path to bind the interface to.">path</a>       = <span class="stringliteral">&quot;/Mul3&quot;</span>;
  bind.<a class="code" href="structadbus__Bind.html#aa4c17de861b929c00c416ef888fc5ab0" title="User pointer available as adbus_CbData::user2 in all the method and property callbacks...">cuser2</a>     = mul3;
  bind.<a class="code" href="structadbus__Bind.html#a6fdb8fe5a90b85c5697caae3cce3c1de" title="Release callbacks called when the interface is unbound from this path.">release</a>[0] = &amp;Multiply::Free;
  bind.<a class="code" href="structadbus__Bind.html#a28812cb1900835fa072810bf674835d4" title="User data for adbus_Bind::release.">ruser</a>[0]   = mul3;
  adbus_conn_bind(connection, &amp;bind);
</pre></div><h2><a class="anchor" id="signals">
Signals</a></h2>
<p>Signals are added to an interface using adbus_mbr_addsignal(). The caller can then set:</p>
<ul>
<li>Signal arguments via <a class="el" href="structadbus__Member.html#ae983fdbd127fa523e70d8511e9382b0d" title="Appends to the argument signature.">adbus_mbr_argsig()</a> and <a class="el" href="structadbus__Member.html#a0b61b17353c1a2b468d7f5adbe8bdb49" title="Sets the next argument name.">adbus_mbr_argname()</a>.</li>
<li>Annotations via <a class="el" href="structadbus__Member.html#a38d42fac1d0a95e48438a087d69ddfd4" title="Adds an annotation to the member.">adbus_mbr_annotate()</a>.</li>
</ul>
<p>After binding the interface to a path, signals can be emitted by either manually building a signal message and sending or using the <a class="el" href="structadbus__Signal.html" title="Helper class to emit signals from C code.">adbus_Signal</a> utility module.</p>
<p>For example: </p>
<div class="fragment"><pre class="fragment">  <span class="comment">// Create an interface with a single signal &quot;Changed&quot; which has a single</span>
  <span class="comment">// boolean argument</span>
  <a class="code" href="structadbus__Interface.html" title="Wrapper around a dbus interface that can be bound to multiple paths on multiple connections...">adbus_Interface</a>* iface;
  <a class="code" href="structadbus__Member.html" title="Handle to an idividual member in an adbus_Interface.">adbus_Member</a>* mbr;
  iface = adbus_iface_new(<span class="stringliteral">&quot;org.freedesktop.SampleInterface&quot;</span>, -1);
  mbr = adbus_iface_addsignal(iface, <span class="stringliteral">&quot;Changed&quot;</span>, -1);
  <a class="code" href="structadbus__Member.html#ae983fdbd127fa523e70d8511e9382b0d" title="Appends to the argument signature.">adbus_mbr_argsig</a>(mbr, <span class="stringliteral">&quot;b&quot;</span>, -1);

  <span class="comment">// Bind this interface to the path &quot;/&quot;</span>
  <a class="code" href="structadbus__Bind.html" title="Data structure used to bind interfaces to a particular path.">adbus_Bind</a> bind;
  adbus_bind_init(&amp;bind);
  bind.<a class="code" href="structadbus__Bind.html#a3b5c2c088d10ae28cf73ac28d3057425" title="Interface to bind.">interface</a> = iface;
  bind.<a class="code" href="structadbus__Bind.html#adf23b4f4f38f9148a0d90d225f3a7d3f" title="Path to bind the interface to.">path</a>      = <span class="stringliteral">&quot;/&quot;</span>;
  adbus_conn_bind(connection, &amp;bind);

  <span class="comment">// Create an adbus_Signal that we can use to emit the signal and bind it</span>
  <span class="comment">// to our changed signal at the path &quot;/&quot;</span>
  <a class="code" href="structadbus__Signal.html" title="Helper class to emit signals from C code.">adbus_Signal</a>* sig = adbus_sig_new();
  adbus_sig_bind(sig, mbr, connection, <span class="stringliteral">&quot;/&quot;</span>, -1);

  <span class="comment">// Emit our signal</span>
  <a class="code" href="structadbus__MsgFactory.html" title="Packs up messages for sending.">adbus_MsgFactory</a>* msg = adbus_sig_msg(sig);
  adbus_msg_boolean(msg, 1);
  adbus_sig_emit(sig);
</pre></div><h2><a class="anchor" id="properties">
Properties</a></h2>
<p>Properties are added to an interface using adbus_mbr_addproperty(). The caller can then set:</p>
<ul>
<li>Property get and set callbacks via <a class="el" href="structadbus__Member.html#ae985084911b1b5e9f8ac5b3aafe710a1" title="Sets the get callback for properties.">adbus_mbr_setgetter()</a> and <a class="el" href="structadbus__Member.html#a304c9863bc234d089428dc7ae7b1d12f" title="Sets the set callback for properties.">adbus_mbr_setsetter()</a>.</li>
<li>Annotations via <a class="el" href="structadbus__Member.html#a38d42fac1d0a95e48438a087d69ddfd4" title="Adds an annotation to the member.">adbus_mbr_annotate()</a>.</li>
</ul>
<p>The access property exported through the introspection xml is determined by looking at which of the getter and setter callbacks are set.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>One of <a class="el" href="structadbus__Member.html#ae985084911b1b5e9f8ac5b3aafe710a1" title="Sets the get callback for properties.">adbus_mbr_setgetter()</a>, <a class="el" href="structadbus__Member.html#a304c9863bc234d089428dc7ae7b1d12f" title="Sets the set callback for properties.">adbus_mbr_setsetter()</a>, or both must be called with a valid callback.</dd></dl>
<p>For example: </p>
<div class="fragment"><pre class="fragment">  adbus_Bool sFoo = 0;
  <span class="keywordtype">int</span> SetFoo(<a class="code" href="structadbus__CbData.html" title="Data structure used for message callbacks.">adbus_CbData</a>* d)
  { 
      <span class="keywordflow">return</span> adbus_iter_boolean(d-&gt;<a class="code" href="structadbus__CbData.html#acc2210cca6ed18cf0a72da3da996abe9" title="Iterator setup to iterate over the property value to set to.">setprop</a>, &amp;sFoo); 
  }

  <span class="keywordtype">int</span> GetFoo(<a class="code" href="structadbus__CbData.html" title="Data structure used for message callbacks.">adbus_CbData</a>* d)
  { 
      adbus_buf_boolean(d-&gt;<a class="code" href="structadbus__CbData.html#abf2c3b521ceeb3902a2fa18e605ba17d" title="Buffer to store the current property value.">getprop</a>, sFoo);
      <span class="keywordflow">return</span> 0;
  }

  <span class="comment">// Create an interface with a single read/write boolean property &quot;Foo&quot;</span>
  <a class="code" href="structadbus__Interface.html" title="Wrapper around a dbus interface that can be bound to multiple paths on multiple connections...">adbus_Interface</a>* iface;
  <a class="code" href="structadbus__Member.html" title="Handle to an idividual member in an adbus_Interface.">adbus_Member</a>* mbr;
  iface = adbus_iface_new(<span class="stringliteral">&quot;org.freedesktop.SampleInterface&quot;</span>, -1);
  mbr = adbus_iface_addproperty(iface, <span class="stringliteral">&quot;Foo&quot;</span>, -1, <span class="stringliteral">&quot;b&quot;</span>, -1);
  <a class="code" href="structadbus__Member.html#ae985084911b1b5e9f8ac5b3aafe710a1" title="Sets the get callback for properties.">adbus_mbr_setgetter</a>(mbr, &amp;SetFoo, NULL);
  <a class="code" href="structadbus__Member.html#a304c9863bc234d089428dc7ae7b1d12f" title="Sets the set callback for properties.">adbus_mbr_setsetter</a>(mbr, &amp;GetFoo, NULL);
</pre></div><div class="fragment"><pre class="fragment">  <span class="keywordtype">int</span> SetFoo(<a class="code" href="structadbus__CbData.html" title="Data structure used for message callbacks.">adbus_CbData</a>* d)
  {
      sFoo = adbus_check_boolean(d);
      <span class="keywordflow">return</span> 0;
  }
</pre></div> <hr/><h2>Friends And Related Function Documentation</h2>
<a class="anchor" id="ab5f3fc9aca7189086e190ffd8a1b13c0"></a><!-- doxytag: member="adbus_Member::adbus_mbr_addrelease" ref="ab5f3fc9aca7189086e190ffd8a1b13c0" args="(adbus_Member *m, adbus_Callback release, void *ruser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adbus_mbr_addrelease </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structadbus__Member.html">adbus_Member</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">adbus_Callback&nbsp;</td>
          <td class="paramname"> <em>release</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>ruser</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [related]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds a callback and user data to be called when the interface is freed. </p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>The callback can be called on any thread. </dd></dl>

</div>
</div>
<a class="anchor" id="a0b61b17353c1a2b468d7f5adbe8bdb49"></a><!-- doxytag: member="adbus_Member::adbus_mbr_argname" ref="a0b61b17353c1a2b468d7f5adbe8bdb49" args="(adbus_Member *m, const char *name, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adbus_mbr_argname </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structadbus__Member.html">adbus_Member</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [related]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the next argument name. </p>
<p>Arguments do not require a name and the name can be set before or after the signature is set, but there cannot be more argument names than argument signatures by the time this interface is bound.</p>
<p>Can only be called on method and signal members. </p>

</div>
</div>
<a class="anchor" id="ae983fdbd127fa523e70d8511e9382b0d"></a><!-- doxytag: member="adbus_Member::adbus_mbr_argsig" ref="ae983fdbd127fa523e70d8511e9382b0d" args="(adbus_Member *m, const char *sig, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adbus_mbr_argsig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structadbus__Member.html">adbus_Member</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>sig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [related]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Appends to the argument signature. </p>
<p>This merely appends to the full argument signature so multiple arguments can be added in one shot.</p>
<p>Can only be called on method and signal members. </p>

</div>
</div>
<a class="anchor" id="abb7709b4c4cf6ed189bf9c82a0e9f58f"></a><!-- doxytag: member="adbus_Member::adbus_mbr_call" ref="abb7709b4c4cf6ed189bf9c82a0e9f58f" args="(adbus_Member *mbr, adbus_ConnBind *bind, adbus_CbData *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int adbus_mbr_call </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structadbus__Member.html">adbus_Member</a> *&nbsp;</td>
          <td class="paramname"> <em>mbr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">adbus_ConnBind *&nbsp;</td>
          <td class="paramname"> <em>bind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structadbus__CbData.html">adbus_CbData</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [related]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calls a method member directly. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This may proxy the method call to another thread.</dd></dl>
<p>This is useful when using the dbus binding for other purposes eg bindings into an embedded scripting language.</p>
<p>The bind can be gotten from the return value of adbus_conn_bind() or by looking it up via adbus_conn_interface(). </p>

</div>
</div>
<a class="anchor" id="a835eb9076d4377d335a3b03f68a57743"></a><!-- doxytag: member="adbus_Member::adbus_mbr_retname" ref="a835eb9076d4377d335a3b03f68a57743" args="(adbus_Member *m, const char *name, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adbus_mbr_retname </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structadbus__Member.html">adbus_Member</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [related]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the next return argument name. </p>
<p>Arguments do not require a name and the name can be set before or after the signature is set, but there cannot be more argument names than argument signatures by the time this interface is bound.</p>
<p>Can only be called on method members. </p>

</div>
</div>
<a class="anchor" id="a1ef17315c62c92e43f489633285b7067"></a><!-- doxytag: member="adbus_Member::adbus_mbr_retsig" ref="a1ef17315c62c92e43f489633285b7067" args="(adbus_Member *m, const char *sig, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adbus_mbr_retsig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structadbus__Member.html">adbus_Member</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>sig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [related]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Appends to the return argument signature. </p>
<p>This merely appends to the full argument signature so multiple arguments can be added in one shot.</p>
<p>Can only be called on method members. </p>

</div>
</div>
<a class="anchor" id="ae985084911b1b5e9f8ac5b3aafe710a1"></a><!-- doxytag: member="adbus_Member::adbus_mbr_setgetter" ref="ae985084911b1b5e9f8ac5b3aafe710a1" args="(adbus_Member *m, adbus_MsgCallback callback, void *user1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adbus_mbr_setgetter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structadbus__Member.html">adbus_Member</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">adbus_MsgCallback&nbsp;</td>
          <td class="paramname"> <em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>user1</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [related]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the get callback for properties. </p>
<p>At least one of this or <a class="el" href="structadbus__Member.html#a304c9863bc234d089428dc7ae7b1d12f" title="Sets the set callback for properties.">adbus_mbr_setsetter()</a> must be called befor ethe interface is bound.</p>
<p>Can only be called on property members. </p>

</div>
</div>
<a class="anchor" id="a415d168c4cfe8d22dc3ca9298ae8cb58"></a><!-- doxytag: member="adbus_Member::adbus_mbr_setmethod" ref="a415d168c4cfe8d22dc3ca9298ae8cb58" args="(adbus_Member *m, adbus_MsgCallback callback, void *user1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adbus_mbr_setmethod </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structadbus__Member.html">adbus_Member</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">adbus_MsgCallback&nbsp;</td>
          <td class="paramname"> <em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>user1</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [related]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the method callback. </p>
<p>This must be set before the interface is bound.</p>
<p>Can only be called on method members. </p>

</div>
</div>
<a class="anchor" id="a304c9863bc234d089428dc7ae7b1d12f"></a><!-- doxytag: member="adbus_Member::adbus_mbr_setsetter" ref="a304c9863bc234d089428dc7ae7b1d12f" args="(adbus_Member *m, adbus_MsgCallback callback, void *user1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adbus_mbr_setsetter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structadbus__Member.html">adbus_Member</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">adbus_MsgCallback&nbsp;</td>
          <td class="paramname"> <em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>user1</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [related]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the set callback for properties. </p>
<p>At least one of this or <a class="el" href="structadbus__Member.html#a304c9863bc234d089428dc7ae7b1d12f" title="Sets the set callback for properties.">adbus_mbr_setsetter()</a> must be called befor ethe interface is bound.</p>
<p>Can only be called on property members. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>adbus/interface.c</li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on Mon Mar 22 00:10:02 2010 for adbus by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
