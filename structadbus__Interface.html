<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>adbus: adbus_Interface Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>adbus_Interface Struct Reference</h1><!-- doxytag: class="adbus_Interface" -->
<p>Wrapper around a dbus interface that can be bound to multiple paths on multiple connections.  
<a href="#_details">More...</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Related Functions</h2></td></tr>
<tr><td colspan="2"><p>(Note that these are not member functions.) </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a35dee02acd17e1fbcb11723565fbdbcc"></a><!-- doxytag: member="adbus_Interface::adbus_iface_new" ref="a35dee02acd17e1fbcb11723565fbdbcc" args="(const char *name, int size)" -->
<a class="el" href="structadbus__Interface.html">adbus_Interface</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Interface.html#a35dee02acd17e1fbcb11723565fbdbcc">adbus_iface_new</a> (const char *name, int size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new interface. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abb2346e68d120c65dd2827408cf2679f"></a><!-- doxytag: member="adbus_Interface::adbus_iface_ref" ref="abb2346e68d120c65dd2827408cf2679f" args="(adbus_Interface *interface)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Interface.html#abb2346e68d120c65dd2827408cf2679f">adbus_iface_ref</a> (<a class="el" href="structadbus__Interface.html">adbus_Interface</a> *interface)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Refs an interface. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5546b1b63d8c199f3656d08ac6016859"></a><!-- doxytag: member="adbus_Interface::adbus_iface_deref" ref="a5546b1b63d8c199f3656d08ac6016859" args="(adbus_Interface *i)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Interface.html#a5546b1b63d8c199f3656d08ac6016859">adbus_iface_deref</a> (<a class="el" href="structadbus__Interface.html">adbus_Interface</a> *i)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Derefs an interface. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a97c5169419342f2b02f70caff67ad369"></a><!-- doxytag: member="adbus_Interface::adbus_iface_addmethod" ref="a97c5169419342f2b02f70caff67ad369" args="(adbus_Interface *i, const char *name, int size)" -->
<a class="el" href="structadbus__Member.html">adbus_Member</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Interface.html#a97c5169419342f2b02f70caff67ad369">adbus_iface_addmethod</a> (<a class="el" href="structadbus__Interface.html">adbus_Interface</a> *i, const char *name, int size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a new method. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1962ab4811e3aa8ddb19de1a44e5d103"></a><!-- doxytag: member="adbus_Interface::adbus_iface_addsignal" ref="a1962ab4811e3aa8ddb19de1a44e5d103" args="(adbus_Interface *i, const char *name, int size)" -->
<a class="el" href="structadbus__Member.html">adbus_Member</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Interface.html#a1962ab4811e3aa8ddb19de1a44e5d103">adbus_iface_addsignal</a> (<a class="el" href="structadbus__Interface.html">adbus_Interface</a> *i, const char *name, int size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a new signal. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a206aa31d4bade2af3b3f4a9472b589a6"></a><!-- doxytag: member="adbus_Interface::adbus_iface_addproperty" ref="a206aa31d4bade2af3b3f4a9472b589a6" args="(adbus_Interface *i, const char *name, int namesize, const char *sig, int sigsize)" -->
<a class="el" href="structadbus__Member.html">adbus_Member</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Interface.html#a206aa31d4bade2af3b3f4a9472b589a6">adbus_iface_addproperty</a> (<a class="el" href="structadbus__Interface.html">adbus_Interface</a> *i, const char *name, int namesize, const char *sig, int sigsize)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a new property. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abca6a3d9945c99eabab4dbae7cafe250"></a><!-- doxytag: member="adbus_Interface::adbus_iface_method" ref="abca6a3d9945c99eabab4dbae7cafe250" args="(adbus_Interface *i, const char *name, int size)" -->
<a class="el" href="structadbus__Member.html">adbus_Member</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Interface.html#abca6a3d9945c99eabab4dbae7cafe250">adbus_iface_method</a> (<a class="el" href="structadbus__Interface.html">adbus_Interface</a> *i, const char *name, int size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets a method. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2158eb5961547515971a96e696dadf45"></a><!-- doxytag: member="adbus_Interface::adbus_iface_signal" ref="a2158eb5961547515971a96e696dadf45" args="(adbus_Interface *i, const char *name, int size)" -->
<a class="el" href="structadbus__Member.html">adbus_Member</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Interface.html#a2158eb5961547515971a96e696dadf45">adbus_iface_signal</a> (<a class="el" href="structadbus__Interface.html">adbus_Interface</a> *i, const char *name, int size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets a signal. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaa103c646c1a410b1e0f8c3a3c996584"></a><!-- doxytag: member="adbus_Interface::adbus_iface_property" ref="aaa103c646c1a410b1e0f8c3a3c996584" args="(adbus_Interface *i, const char *name, int size)" -->
<a class="el" href="structadbus__Member.html">adbus_Member</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Interface.html#aaa103c646c1a410b1e0f8c3a3c996584">adbus_iface_property</a> (<a class="el" href="structadbus__Interface.html">adbus_Interface</a> *i, const char *name, int size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets a property. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Wrapper around a dbus interface that can be bound to multiple paths on multiple connections. </p>
<p>Generally interfaces are created up front statically or with some kind of singleton so that they are reused. The interface then binds in all of the information in the introspection xml for that interface as well as the callbacks for properties and methods.</p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>Once an interface is bound to a connection it cannot be further modified.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>In multithreaded programs, it's generally assumed that all the callbacks in an interface will be called on the thread that the bind occured on. This is required for the GetAll function which calls all of the property getters locally.</dd></dl>
<p>For example: </p>
<div class="fragment"><pre class="fragment">  <a class="code" href="structadbus__Interface.html" title="Wrapper around a dbus interface that can be bound to multiple paths on multiple connections...">adbus_Interface</a>* i;
  <a class="code" href="structadbus__Member.html" title="Handle to an idividual member in an adbus_Interface.">adbus_Member</a>* m;

  i = <a class="code" href="structadbus__Interface.html#a35dee02acd17e1fbcb11723565fbdbcc" title="Creates a new interface.">adbus_iface_new</a>(<span class="stringliteral">&quot;org.freedesktop.SampleInterface&quot;</span>, -1);

  m = <a class="code" href="structadbus__Interface.html#a97c5169419342f2b02f70caff67ad369" title="Adds a new method.">adbus_iface_addmethod</a>(i, <span class="stringliteral">&quot;Frobate&quot;</span>, -1);
  adbus_mbr_setmethod(m, &amp;Frobate, NULL);
  adbus_mbr_argsig(m, <span class="stringliteral">&quot;i&quot;</span>, -1);
  adbus_mbr_argname(m, <span class="stringliteral">&quot;foo&quot;</span>, -1);
  adbus_mbr_retsig(m, <span class="stringliteral">&quot;sa{us}&quot;</span>, -1)
  adbus_mbr_retname(m, &quot;bar&quot;, -1);
  adbus_mbr_retname(m, &quot;baz&quot;, -1);
  adbus_mbr_annotate(m, &quot;org.freedesktop.DBus.Deprecated&quot;, -1, &quot;true&quot;, -1);

  m = <a class="code" href="structadbus__Interface.html#a1962ab4811e3aa8ddb19de1a44e5d103" title="Adds a new signal.">adbus_iface_addsignal</a>(i, &quot;Changed&quot;, -1);
  adbus_mbr_argsig(m, &quot;b&quot;, -1);
  adbus_mbr_argname(m, &quot;new_value&quot;, -1);

  m = <a class="code" href="structadbus__Interface.html#a206aa31d4bade2af3b3f4a9472b589a6" title="Adds a new property.">adbus_iface_addproperty</a>(i, &quot;Bar&quot;, -1);
  adbus_mbr_argsig(m, &quot;y&quot;, -1);
  adbus_mbr_setgetter(m, &amp;GetBar, NULL);
  adbus_mbr_setsetter(m, &amp;SetBar, NULL);
</pre></div><p>On introspection this will generate the following xml:</p>
<div class="fragment"><pre class="fragment">  &lt;interface name=<span class="stringliteral">&quot;org.freedesktop.SampleInterface&quot;</span>&gt;
    &lt;method name=<span class="stringliteral">&quot;Frobate&quot;</span>&gt;
      &lt;arg name=<span class="stringliteral">&quot;foo&quot;</span> type=<span class="stringliteral">&quot;i&quot;</span> direction=<span class="stringliteral">&quot;in&quot;</span>/&gt;
      &lt;arg name=<span class="stringliteral">&quot;bar&quot;</span> type=<span class="stringliteral">&quot;s&quot;</span> direction=<span class="stringliteral">&quot;out&quot;</span>/&gt;
      &lt;arg name=<span class="stringliteral">&quot;baz&quot;</span> type=<span class="stringliteral">&quot;a{us}&quot;</span> direction=<span class="stringliteral">&quot;out&quot;</span>/&gt;
      &lt;annotation name=<span class="stringliteral">&quot;org.freedesktop.DBus.Deprecated&quot;</span> value=<span class="stringliteral">&quot;true&quot;</span>/&gt;
    &lt;/method&gt;
    &lt;signal name=<span class="stringliteral">&quot;Changed&quot;</span>&gt;
      &lt;arg name=<span class="stringliteral">&quot;new_value&quot;</span> type=<span class="stringliteral">&quot;b&quot;</span>/&gt;
    &lt;/signal&gt;
    &lt;<span class="keyword">property</span> name=<span class="stringliteral">&quot;Bar&quot;</span> type=<span class="stringliteral">&quot;y&quot;</span> access=<span class="stringliteral">&quot;readwrite&quot;</span>/&gt;
  &lt;/interface&gt;
</pre></div><p>For further examples and details on how to manipulate the members see <a class="el" href="structadbus__Member.html" title="Handle to an idividual member in an adbus_Interface.">adbus_Member</a>. </p>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>adbus/interface.c</li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on Mon Mar 22 00:10:02 2010 for adbus by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
