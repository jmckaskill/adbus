<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>adbus: adbus_Message Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>adbus_Message Struct Reference</h1><!-- doxytag: class="adbus_Message" -->
<p>Container for parsed messages.  
<a href="#_details">More...</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a83575b9e7cd7c7fff702811f2f0cf5aa"></a><!-- doxytag: member="adbus_Message::data" ref="a83575b9e7cd7c7fff702811f2f0cf5aa" args="" -->
const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#a83575b9e7cd7c7fff702811f2f0cf5aa">data</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Beginning of message data (must be 8 byte aligned). <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a43bd16961112e1a093adebbe9eacb37a"></a><!-- doxytag: member="adbus_Message::size" ref="a43bd16961112e1a093adebbe9eacb37a" args="" -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#a43bd16961112e1a093adebbe9eacb37a">size</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Size of message data. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a845883afc0c23be3758e68fb86cb3f9b"></a><!-- doxytag: member="adbus_Message::argdata" ref="a845883afc0c23be3758e68fb86cb3f9b" args="" -->
const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#a845883afc0c23be3758e68fb86cb3f9b">argdata</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Beginning of argument data. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa181e0f38d00df3aa83b88356f86302d"></a><!-- doxytag: member="adbus_Message::argsize" ref="aa181e0f38d00df3aa83b88356f86302d" args="" -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#aa181e0f38d00df3aa83b88356f86302d">argsize</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Size of argument data. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6a50b924652eb7482828a572caea2472"></a><!-- doxytag: member="adbus_Message::type" ref="a6a50b924652eb7482828a572caea2472" args="" -->
adbus_MessageType&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#a6a50b924652eb7482828a572caea2472">type</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Type of message. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af791c2d6b03b6e1da50e5b4b3fbf8c4c"></a><!-- doxytag: member="adbus_Message::flags" ref="af791c2d6b03b6e1da50e5b4b3fbf8c4c" args="" -->
uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#af791c2d6b03b6e1da50e5b4b3fbf8c4c">flags</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Message flags. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4a7dd37e7b9111eafbb1383e647cf861"></a><!-- doxytag: member="adbus_Message::serial" ref="a4a7dd37e7b9111eafbb1383e647cf861" args="" -->
uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#a4a7dd37e7b9111eafbb1383e647cf861">serial</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Message serial - used to correlate method calls with replies. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a21efeb532b7443f0e6af6ccf495028b1"></a><!-- doxytag: member="adbus_Message::signature" ref="a21efeb532b7443f0e6af6ccf495028b1" args="" -->
const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#a21efeb532b7443f0e6af6ccf495028b1">signature</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Argument signature or NULL if not present. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="add8cadebde2768290d45b92277571b81"></a><!-- doxytag: member="adbus_Message::signatureSize" ref="add8cadebde2768290d45b92277571b81" args="" -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#add8cadebde2768290d45b92277571b81">signatureSize</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Length of <a class="el" href="structadbus__Message.html#a21efeb532b7443f0e6af6ccf495028b1" title="Argument signature or NULL if not present.">adbus_Message::signature</a> field. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8e009e5b69fb551d1c772bf8167aff33"></a><!-- doxytag: member="adbus_Message::replySerial" ref="a8e009e5b69fb551d1c772bf8167aff33" args="" -->
const uint32_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#a8e009e5b69fb551d1c772bf8167aff33">replySerial</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer to reply serial value of NULL if not present. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a500195bffbbb1655ef5ac5cc59663d9a"></a><!-- doxytag: member="adbus_Message::path" ref="a500195bffbbb1655ef5ac5cc59663d9a" args="" -->
const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#a500195bffbbb1655ef5ac5cc59663d9a">path</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Object path header field or NULL if not present. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a97b40cbe6942b08f22deaefd3056dc59"></a><!-- doxytag: member="adbus_Message::pathSize" ref="a97b40cbe6942b08f22deaefd3056dc59" args="" -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#a97b40cbe6942b08f22deaefd3056dc59">pathSize</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Length of path field. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac7be9b1ad43663832e7b03e7cbe60b62"></a><!-- doxytag: member="adbus_Message::interface" ref="ac7be9b1ad43663832e7b03e7cbe60b62" args="" -->
const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#ac7be9b1ad43663832e7b03e7cbe60b62">interface</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interface header field or NULL if not present. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af3eb773a7fed5eb4dc50a2abc7080599"></a><!-- doxytag: member="adbus_Message::interfaceSize" ref="af3eb773a7fed5eb4dc50a2abc7080599" args="" -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#af3eb773a7fed5eb4dc50a2abc7080599">interfaceSize</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Length of interface field. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adef5f408ca74ee01c9d27bb12e71f799"></a><!-- doxytag: member="adbus_Message::member" ref="adef5f408ca74ee01c9d27bb12e71f799" args="" -->
const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#adef5f408ca74ee01c9d27bb12e71f799">member</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Member header field or NULL if not present. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e0b6159fad900c1b9e87f9a763a63ba"></a><!-- doxytag: member="adbus_Message::memberSize" ref="a1e0b6159fad900c1b9e87f9a763a63ba" args="" -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#a1e0b6159fad900c1b9e87f9a763a63ba">memberSize</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Length of member field. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2d437a2aca8db8db6b0d412a9e6730f8"></a><!-- doxytag: member="adbus_Message::error" ref="a2d437a2aca8db8db6b0d412a9e6730f8" args="" -->
const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#a2d437a2aca8db8db6b0d412a9e6730f8">error</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Error name header field or NULL if not present. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0ffd3f7a5be66e5fae3a7121e4e17b5d"></a><!-- doxytag: member="adbus_Message::errorSize" ref="a0ffd3f7a5be66e5fae3a7121e4e17b5d" args="" -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#a0ffd3f7a5be66e5fae3a7121e4e17b5d">errorSize</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Length of error field. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3ab6696d4bd7cab8d26d26aa32deae5c"></a><!-- doxytag: member="adbus_Message::destination" ref="a3ab6696d4bd7cab8d26d26aa32deae5c" args="" -->
const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#a3ab6696d4bd7cab8d26d26aa32deae5c">destination</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destination header field or NULL if not present. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abacc995f45f1df663c3d92287b3a17fe"></a><!-- doxytag: member="adbus_Message::destinationSize" ref="abacc995f45f1df663c3d92287b3a17fe" args="" -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#abacc995f45f1df663c3d92287b3a17fe">destinationSize</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Length of destination field. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0417058de11abeec0c4f81d8cac7ec95"></a><!-- doxytag: member="adbus_Message::sender" ref="a0417058de11abeec0c4f81d8cac7ec95" args="" -->
const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#a0417058de11abeec0c4f81d8cac7ec95">sender</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sender header field or NULL if not present. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a259cfa5a1b92782bbea11609fa6c6fe8"></a><!-- doxytag: member="adbus_Message::senderSize" ref="a259cfa5a1b92782bbea11609fa6c6fe8" args="" -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#a259cfa5a1b92782bbea11609fa6c6fe8">senderSize</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Length of sender field. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">adbus_Argument *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#a1ed2a4dc973fd8437d1490d27e381543">arguments</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Array of unpacked arguments.  <a href="#a1ed2a4dc973fd8437d1490d27e381543"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aac2b0d175869c8671be4b8e93bca46a2"></a><!-- doxytag: member="adbus_Message::argumentsSize" ref="aac2b0d175869c8671be4b8e93bca46a2" args="" -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#aac2b0d175869c8671be4b8e93bca46a2">argumentsSize</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Size of arguments field. <br/></td></tr>
<tr><td colspan="2"><h2>Related Functions</h2></td></tr>
<tr><td colspan="2"><p>(Note that these are not member functions.) </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#a9823a576a44b975ed490df81a5ac3adc">adbus_parse_size</a> (const char *<a class="el" href="structadbus__Message.html#a83575b9e7cd7c7fff702811f2f0cf5aa">data</a>, size_t <a class="el" href="structadbus__Message.html#a43bd16961112e1a093adebbe9eacb37a">size</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Figures out the size of a message.  <a href="#a9823a576a44b975ed490df81a5ac3adc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#ae98a9729f3be10118c17cad5c5e07dbe">adbus_parse</a> (<a class="el" href="structadbus__Message.html">adbus_Message</a> *m, char *<a class="el" href="structadbus__Message.html#a83575b9e7cd7c7fff702811f2f0cf5aa">data</a>, size_t <a class="el" href="structadbus__Message.html#a43bd16961112e1a093adebbe9eacb37a">size</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fills out an <a class="el" href="structadbus__Message.html" title="Container for parsed messages.">adbus_Message</a> by parsing the data.  <a href="#ae98a9729f3be10118c17cad5c5e07dbe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#a585282ee4222bdba845acfff891a2640">adbus_parseargs</a> (<a class="el" href="structadbus__Message.html">adbus_Message</a> *m)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parse the arguments in a message.  <a href="#a585282ee4222bdba845acfff891a2640"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abb5bc304ae254e7c8c9a58ee39d1f107"></a><!-- doxytag: member="adbus_Message::adbus_freeargs" ref="abb5bc304ae254e7c8c9a58ee39d1f107" args="(adbus_Message *m)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#abb5bc304ae254e7c8c9a58ee39d1f107">adbus_freeargs</a> (<a class="el" href="structadbus__Message.html">adbus_Message</a> *m)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frees the argument vector allocated by adbus_parse_args(). <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadbus__Message.html#aceab67aa937501f6a3c7e05608713bbd">adbus_clonedata</a> (<a class="el" href="structadbus__Message.html">adbus_Message</a> *from, <a class="el" href="structadbus__Message.html">adbus_Message</a> *to)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clones the message data in <em>from</em> into <em>to</em>.  <a href="#aceab67aa937501f6a3c7e05608713bbd"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Container for parsed messages. </p>
<p>A message structure can be filled out by using <a class="el" href="structadbus__Message.html#ae98a9729f3be10118c17cad5c5e07dbe" title="Fills out an adbus_Message by parsing the data.">adbus_parse()</a> or it may be filled out manually. When filling out manually all fields except arguments are required to be set if they are in the message (otherwise they should be zero intialised). Most places that require arguments to be set should call <a class="el" href="structadbus__Message.html#a585282ee4222bdba845acfff891a2640" title="Parse the arguments in a message.">adbus_parseargs()</a> before using it.</p>
<dl class="warning"><dt><b>Warning:</b></dt><dd><a class="el" href="structadbus__Message.html#a585282ee4222bdba845acfff891a2640" title="Parse the arguments in a message.">adbus_parseargs()</a> allocates some space on the heap to store the arguments vector. Call <a class="el" href="structadbus__Message.html#abb5bc304ae254e7c8c9a58ee39d1f107" title="Frees the argument vector allocated by adbus_parse_args().">adbus_freeargs()</a> to free the arguments vector when finished using them.</dd></dl>
<p>For example to parse some incoming data and dispatch using adbus_conn_dispatch() (this is just a simple version of adbus_conn_parse()):</p>
<div class="fragment"><pre class="fragment">  <span class="comment">// These initialised somewhere else</span>
  <span class="keyword">static</span> <a class="code" href="structadbus__Buffer.html" title="General purpose buffer and means to serialise dbus data with an associated signature...">adbus_Buffer</a>* buf;
  <span class="keyword">static</span> adbus_Connect* connection;
  <span class="keywordtype">int</span> ParseData(<span class="keywordtype">char</span>* data, <span class="keywordtype">size_t</span> sz)
  {
      <span class="comment">// Copy the data into a buffer to ensure its 8 byte aligned</span>
      adbus_buf_append(buf, data, sz);
      <span class="keywordtype">size_t</span> msgsz = 0;
      <span class="keywordflow">while</span> (1)
      {
          <span class="keywordtype">char</span>* msgdata = adbus_buf_data(buf);
          <span class="keywordtype">size_t</span> bufdata = adbus_buf_size(buf);
          msgsz = <a class="code" href="structadbus__Message.html#a9823a576a44b975ed490df81a5ac3adc" title="Figures out the size of a message.">adbus_parse_size</a>(msgdata, bufdata);
          <span class="comment">// Need more data</span>
          <span class="keywordflow">if</span> (msgsz == 0 || msgsz &gt; bufdata)
              <span class="keywordflow">return</span> 0;
          
          <a class="code" href="structadbus__Message.html" title="Container for parsed messages.">adbus_Message</a> m = {};
          
          <span class="comment">// Check for parse errors</span>
          <span class="keywordflow">if</span> (<a class="code" href="structadbus__Message.html#ae98a9729f3be10118c17cad5c5e07dbe" title="Fills out an adbus_Message by parsing the data.">adbus_parse</a>(&amp;m, msgdata, msgsz))
              <span class="keywordflow">return</span> -1;

          <span class="comment">// adbus_conn_dispatch() will return an error on a parse error</span>
          <span class="comment">// detected further down</span>
          <span class="keywordtype">int</span> ret = adbus_conn_dispatch(connection, &amp;m);
          <a class="code" href="structadbus__Message.html#abb5bc304ae254e7c8c9a58ee39d1f107" title="Frees the argument vector allocated by adbus_parse_args().">adbus_freeargs</a>(&amp;m);
          <span class="keywordflow">if</span> (ret)
              <span class="keywordflow">return</span> ret;
      }
  }
</pre></div> <hr/><h2>Friends And Related Function Documentation</h2>
<a class="anchor" id="aceab67aa937501f6a3c7e05608713bbd"></a><!-- doxytag: member="adbus_Message::adbus_clonedata" ref="aceab67aa937501f6a3c7e05608713bbd" args="(adbus_Message *from, adbus_Message *to)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adbus_clonedata </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structadbus__Message.html">adbus_Message</a> *&nbsp;</td>
          <td class="paramname"> <em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structadbus__Message.html">adbus_Message</a> *&nbsp;</td>
          <td class="paramname"> <em>to</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [related]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Clones the message data in <em>from</em> into <em>to</em>. </p>
<p>Afterwards the message needs to be freed via adbus_freedata. </p>

</div>
</div>
<a class="anchor" id="ae98a9729f3be10118c17cad5c5e07dbe"></a><!-- doxytag: member="adbus_Message::adbus_parse" ref="ae98a9729f3be10118c17cad5c5e07dbe" args="(adbus_Message *m, char *data, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int adbus_parse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structadbus__Message.html">adbus_Message</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [related]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Fills out an <a class="el" href="structadbus__Message.html" title="Container for parsed messages.">adbus_Message</a> by parsing the data. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>m</em>&nbsp;</td><td>The message structure to fill out. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>data</em>&nbsp;</td><td>Data to parse. This <em>must</em> be 8 byte aligned. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>size</em>&nbsp;</td><td>The size of the message. This <em>must</em> be the size of the message exactly.</td></tr>
  </table>
  </dd>
</dl>
<p>Parses a message and fills out the message structure. It will endian flip the data if it is not native (hence char* instead of const char*). The pointers in the message structure will point into the passed data.</p>
<p>Due to the 8 byte alignment the size normally needs to be known beforehand to copy the data into an 8 byte aligned buffer. <a class="el" href="structadbus__Message.html#a9823a576a44b975ed490df81a5ac3adc" title="Figures out the size of a message.">adbus_parse_size()</a> can be used to figure out the message size.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structadbus__Message.html#a9823a576a44b975ed490df81a5ac3adc" title="Figures out the size of a message.">adbus_parse_size()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a9823a576a44b975ed490df81a5ac3adc"></a><!-- doxytag: member="adbus_Message::adbus_parse_size" ref="a9823a576a44b975ed490df81a5ac3adc" args="(const char *data, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t adbus_parse_size </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [related]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Figures out the size of a message. </p>
<p>The data does not need to be aligned.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The message size or 0 if there is insufficient data to figure out the message size. </dd></dl>

</div>
</div>
<a class="anchor" id="a585282ee4222bdba845acfff891a2640"></a><!-- doxytag: member="adbus_Message::adbus_parseargs" ref="a585282ee4222bdba845acfff891a2640" args="(adbus_Message *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int adbus_parseargs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structadbus__Message.html">adbus_Message</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [related]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Parse the arguments in a message. </p>
<p>This should be called after filling out the message struct using <a class="el" href="structadbus__Message.html#ae98a9729f3be10118c17cad5c5e07dbe" title="Fills out an adbus_Message by parsing the data.">adbus_parse()</a> or manually and will fill out the arguments and argumentsSize fields. These fields only tell you about string arguments and should only be used for matching match rules.</p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>The argument vector filled out in the message structure is allocated on the heap. You must use <a class="el" href="structadbus__Message.html#abb5bc304ae254e7c8c9a58ee39d1f107" title="Frees the argument vector allocated by adbus_parse_args().">adbus_freeargs()</a> after using the message to free this. </dd></dl>

</div>
</div>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="a1ed2a4dc973fd8437d1490d27e381543"></a><!-- doxytag: member="adbus_Message::arguments" ref="a1ed2a4dc973fd8437d1490d27e381543" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structadbus__Message.html#a1ed2a4dc973fd8437d1490d27e381543">adbus_Message::arguments</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Array of unpacked arguments. </p>
<p>This should only be used for matching against match rules. For proper unpacking use <a class="el" href="structadbus__Iterator.html" title="Iterator over serialised dbus data.">adbus_Iterator</a>. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>include/c/<a class="el" href="adbus_8h_source.html">adbus.h</a></li>
<li>adbus/parse.c</li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on Mon Mar 22 00:10:02 2010 for adbus by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
